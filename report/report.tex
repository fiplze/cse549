\documentclass[11pt,letter]{article}
% \include{macro-file}

\def\mainroot{ell_1}

%%%%%% Margins and spacing
\usepackage[top=1in, bottom=1in, left=1in, right=1in]{geometry}
\usepackage{algorithm}
\usepackage{amsmath}
\usepackage{url}
\usepackage{caption}
\usepackage[compact]{titlesec}
%\usepackage{bm}
\usepackage{txfonts} %\usepackage{times}
\usepackage{color}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{cancel}
\usepackage{soul}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{algpseudocode}

\usepackage{sidecap}
\sidecaptionvpos{figure}{c}

\usepackage{enumitem}
\setlist{nolistsep}

%\setcounter{MaxMatrixCols}{20}

\newcommand\mjsnote[1]{{\bf [#1 -mjs]}}

\newcommand{\meas}{{\mathbf \mu}}
\newcommand{\tightpgh}[1]{\vskip 3pt\noindent\textbf{#1}}
\newcommand{\signalw}{{\mathbf w}}
\newcommand{\signalx}{{\mathbf x}}
\newcommand{\signaly}{{\mathbf y}}
\newcommand{\signalz}{{\mathbf z}}

%\expandafter\def\expandafter\normalsize\expandafter{%
%    \normalsize
%    \setlength\abovedisplayskip{2pt}
%    \setlength\belowdisplayskip{2pt}
%    \setlength\abovedisplayshortskip{0pt}
%    \setlength\belowdisplayshortskip{0pt}
%}\makeatother
%
%\renewcommand\floatpagefraction{.9}
%\renewcommand\topfraction{.9}
%\renewcommand\bottomfraction{.9}
%\renewcommand\textfraction{.1}   
%\setlength{\textfloatsep}{10pt plus 1.0pt minus 2.0pt}

% Jian \DeclareMathOperator*{\median}{median}
\newcommand{\mb}{\ensuremath\mathbf}
\newcommand{\F}{\ensuremath\mathbb{F}}

\title{UI for RNA-seq quantification \footnote{Course Project Report of CSE 549.}}
\author{
%\alignauthor
xxxx xxxxx\\
       {\small SBU ID: xxxxxx}\\
       {\small Department of Computer Science}\\
       {\small Stony Brook University} \\
       {\small \texttt{xxxxx@cs.stonybrook.edu}}
%\alignauthor
\and
xxxx xxxxx \\
       {\small SBU ID: xxx}\\
       {\small Department of Computer Science}\\
       {\small Stony Brook University} \\
       {\small \texttt{xxxxx@cs.stonybrook.edu}}
%\alignauthor
\and
Jianglin Wu \\
       {\small SBU ID: 108075432}\\
       {\small Department of Computer Science}\\
       {\small Stony Brook University} \\
       {\small \texttt{jiangwu@cs.stonybrook.edu}}
%\alignauthor
\and
%\alignauthor
Jian Yang \\
       {\small SBU ID: 110168771}\\
       {\small Department of Computer Science}\\
       {\small Stony Brook University}\\
       {\small \texttt{yang16@cs.stonybrook.edu}}
}
\date{}


\raggedbottom

\begin{document}
\maketitle

\begin{abstract}
RNA sequencing, is a technology that uses the capabilities of next-generation sequencing to reveal a snapshot of RNA presence and quantity from a genome at a given moment in time. There are many modern algorithms for RNA-seq but there is few visualization about the algorithms' results. Based on this status, we implemented a UI for RNA-Seq quality comparison between various of algorithms. The UI could upload results from algorithms, generate plots and tables for quality metrics and a user could interactively view any data on the plots.
\end{abstract}

\thispagestyle{empty}
\addtocounter{page}{0}

\section {Introduction}

Software developed by programmer can process high throughput RNA-seq data and create detail results for Biologist and Bioinformatician for further analyzing. However, these tools cannot replace the role of a professional user who knows how to deal with the data and the meaning behind the number and text.  A simple graph contains more information than paragraphs of text description.  So, to provide an easy way for Biologist to research on the output data, we have our User Interface which consists of following functionalists: Bar chart for basic statatical information about the data; Scatter Plots for algorithm output data visulization, comparison and analysis; and Metrics for performance evaluation.   \\


\section {UI Architecture}
We implemented this from four components: backend scripts, server, front-end, webpage. \\
\subsection {Backend scripts}
At backend scripts, we did the following jobs.
\begin{enumerate}
\item Calculate the statistics from the transcript. \\
We calculate the data such as GC content, ration of each nucleotides.
\item Load data from result files for algorithms and also the ground truth from profile files according to given parser.
\item Concat the data of results, the ground truth and the statistics based on transcript name as index to a large table.
\item Provide the API to query the data for UI layers.
\item Calculate the performance evaluation matrix.
\end{enumerate}
The API contains the following methods.

\section {UI Features}
We implemented the following features for the quality metrics with interactive modes to compare and view quality about algorithms. Currently we support 3 algorithms and a ground truth is added to compare the precision and the recall ratios.
\subsection {Bar Chart for algorithms}
We support the bar chart for all the algorithms to calculate the number of reads for each algorithm mapped in the experiment. One example is showed in figure \ref{fig_barchart_numreads}.

\subsection {Scatter Plot for a Single Algorithm}
For a single algorithm, we support the scatter plot about any two values such as transcript GC content versus abundance estimates. To plot a scatter plot, the user could go to the scatter plot for single algorithm page, choose an algorithm and the x-axis feature and the y-axis feature. With such a plot, every node on the scatter plot is one transcript and the coordinate is the chosen value pairs and as one example, the scatter plot for sailfish is showed in figure \ref{fig_single_algo_sailfish}. \\
For an interactive mode, you could move the mouse to a node you want to view and the information would automatically showed as in figure \ref{fig_interactive_single_algo}.

\subsection {Scatter Plot for two Algorithms on the same metrics}
We could also compare two algorithms based on the same scatter plots. For example, we could compare the distribution between GC Content and Number of Reads for both Sailfish and Kallisto, as showed in figure \ref{fig_two_algo}.

\subsection {Scatter Plot for two Algorithms on the same feature}
The same features from two algorithms are also comparable. For example, Number of Reads for both Sailfish and Kallisto. We expected they are similar if both of them are goo algorithms. And we could also compare it with the ground truth.

\subsection {Performance Evaluation}
We could also calculate the performance evluation based on ground truth. The ground truth could be uploaded at upload page showed (??add a figure or not???). \\
By given the ground truth, we now could calculate the following metrics: Spearman corr., TPEF, TPME, MARD, wMARD \cite{rapmap}.

\section {Extensibility}
\subsection {Upload new data}
Currently the uploading of ground truth is added to re-calculate the performance evaluation results. \\
We also considered the extensibility in our implementation. Currently the result files are directly uploaded to the server side and by upload and rename to the targeted name, call $DataAnalyzor.load_data()$, the server could reload all data to replace the old metrics.
\subsection {Add new algorithm}
To add a new algorithm, one just need to add a related method in $AnalyzorBuilder$  with the corresponding result file, parsing method same as in file $ParsingUtility.py$ and the new algorithm could automatically be supported by the whole framework. \\
At both the front-end and back-end, the algorithms are queried from the $DataAnalyzor$. Once the algorithms and the corresponding methods for reading the data in, the new algorithm and the data would be showed as same as other old features.
\subsection {Add Features to compare}
Currently we support a wide range of comparison: all possible pairs of \\


\section{Acknowledge}
Thanks and regards to Professor Rob Patro's lectures. We were inspired by the algorithms and the vivid examples. \\
Thanks and regards to TA Hirak. He helped us a lot on the project.

% \bibliographystyle{plain}	% (uses file "plain.bst")
% \bibliography{literature}


% \section{References}
\begin{thebibliography}{100} % 100 is a random guess of the total number of
%references
\bibitem{rapmap} Srivastava, Avi, Hirak Sarkar, and Rob Patro. "RapMap: A Rapid, Sensitive and Accurate Tool for Mapping RNA-seq Reads to Transcriptomes." \emph{bioRxiv} (2015): 029652.
\end{thebibliography}

% \input{appendix}

\end{document}
